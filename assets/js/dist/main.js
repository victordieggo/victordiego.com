$(function(){"use strict";function l(){window.innerWidth>=993?r.scrollTop()>=15?e.addClass("bg-darker"):e.removeClass("bg-darker"):s.hasClass("main-nav-is-active")?e.addClass("bg-darker"):r.scrollTop()>15?e.addClass("bg-darker"):e.removeClass("bg-darker")}var s=$(".main-nav"),o=$(".nav-btn"),n=$(".menu-item-has-children"),e=$(".main-header"),a=$("html, body"),t=$('a[href*="#"]'),r=$(window);o.on("click",function(){s.toggleClass("main-nav-is-active"),l()}),n.each(function(){$("a:first",this).click(function(l){l.preventDefault()}),$(this).click(function(){window.innerWidth<=992&&($(this).toggleClass("menu-item-is-active"),$("ul",this).children().click(function(l){l.stopPropagation()}))})}),r.on("load scroll resize",function(){$("section").each(function(l){$(this).position().top<=r.scrollTop()+80&&($("a.menu-item-is-active",s).removeClass("menu-item-is-active"),$("a",s).eq(l).addClass("menu-item-is-active"))}),l()}),t.on("click",function(){var l=$(this.hash);if(l=l.length?l:$("[name="+this.hash.slice(1)+"]"),s.removeClass("main-nav-is-active"),0===l.offset().top&&0===e.offset().top&&e.removeClass("bg-darker"),l.length)return a.animate({scrollTop:l.offset().top},1e3),!1})}),function(l,s,o,n){l.fn.scrollMenu=function(n){var e,a={addClassTo:l(this),scrollUpClass:"",scrollDownClass:"hidden-header",scrollTopClass:"",scrollBottomClass:"",scrollOffsetInClass:"",scrollOffsetOutClass:"",timeOut:1e3/60,tolleranceUp:0,tolleranceDown:0,scrollOffset:l(this).outerHeight(),onScrollMenuUp:function(){},onScrollMenuDown:function(){},onScrollMenuTop:function(){},onScrollMenuBottom:function(){},onScrollMenuOffsetIn:function(){},onScrollMenuOffsetOut:function(){}},t=0,r=(a.navigationHeight,a.tolleranceUp),i=a.tolleranceDown;l.extend(a,n),s.animationFrame=function(l){return s.requestAnimationFrame||function(l){s.setTimeout(l,a.timeOut)}}(),l(s).scroll(function(){e?(clearTimeout(e),e=!1):(e=!0,animationFrame(c))});var c=function(){var n=l(s).scrollTop(),c=l(s).height(),u=l(o).height();if(n>t&&n>=a.scrollOffset){if(Math.abs(t-n)<=i)return;l(a.addClassTo).removeClass(a.scrollUpClass).addClass(a.scrollDownClass),l(o).trigger("onScrollMenuDown"),a.onScrollMenuDown.call()}else{if(Math.abs(t-n)<=r)return;l(a.addClassTo).removeClass(a.scrollDownClass).addClass(a.scrollUpClass),l(o).trigger("onScrollMenuUp"),a.onScrollMenuUp.call()}0===n?(l(a.addClassTo).addClass(a.scrollTopClass),l(o).trigger("onScrollMenuTop"),a.onScrollMenuTop.call()):l(a.addClassTo).removeClass(a.scrollTopClass),n==u-c?(l(a.addClassTo).addClass(a.scrollBottomClass),l(o).trigger("onScrollMenuBottom"),a.onScrollMenuBottom.call()):l(a.addClassTo).removeClass(a.scrollBottomClass),n<=a.scrollOffset?(l(a.addClassTo).removeClass(a.scrollOffsetOutClass).addClass(a.scrollOffsetInClass),l(o).trigger("onScrollMenuOffsetIn"),a.onScrollMenuOffsetIn.call()):(l(a.addClassTo).removeClass(a.scrollOffsetInClass).addClass(a.scrollOffsetOutClass),l(o).trigger("onScrollMenuOffsetOut"),a.onScrollMenuOffsetOut.call()),e=!1,t=n};c()}}(jQuery,window,document),$(function(){$(".main-header").scrollMenu()});